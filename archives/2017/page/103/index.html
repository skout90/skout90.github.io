
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="지쳐가는 5분에 인생을 거는 나">
    <title>Archives: 2017 - 지쳐가는 5분에 인생을 거는 나</title>
    <meta name="author" content="Junho Nam">
    
    
        <link rel="icon" href="https://skout90.github.io/assets/images/favicon.jpg">
    
    
        <link rel="alternate" type="application/atom+xml" title="RSS" href="/feed.xml">
    
    <script type="application/ld+json">{}</script>
    <meta name="description" content="개발 블로그">
<meta property="og:type" content="blog">
<meta property="og:title" content="지쳐가는 5분에 인생을 거는 나">
<meta property="og:url" content="https://skout90.github.io/archives/2017/page/103/index.html">
<meta property="og:site_name" content="지쳐가는 5분에 인생을 거는 나">
<meta property="og:description" content="개발 블로그">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="지쳐가는 5분에 인생을 거는 나">
<meta name="twitter:description" content="개발 블로그">
    
    
        
    
    
        <meta property="og:image" content="https://skout90.github.io/assets/images/favicon.jpg"/>
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style-sbr8a29vhg2buwqdfiagp9i2fk4rxgm5ip8dz0ru5ozzkfexnn3svxyxd4eg.min.css">
    <!--STYLES END-->
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-102438751-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-102438751-1');
    </script>


    

    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="1">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/ "
            aria-label=""
        >
            지쳐가는 5분에 인생을 거는 나
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="Open the link: /#about"
            >
        
        
            <img class="header-picture" src="/assets/images/favicon.jpg" alt="Author&#39;s picture"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="1">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="/#about"
                    aria-label="Read more about the author"
                >
                    <img class="sidebar-profile-picture" src="/assets/images/favicon.jpg" alt="Author&#39;s picture"/>
                </a>
                <h4 class="sidebar-profile-name">Junho Nam</h4>
                
                    <h5 class="sidebar-profile-bio"><p>enjoy while living</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/ "
                            
                            title="Home"
                        >
                    
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-categories"
                            
                            title="Categories"
                        >
                    
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="#about"
                            
                            title="About"
                        >
                    
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://github.com/skout90" target="_blank" rel="noopener" title="GitHub">
                    
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://stackoverflow.com/users/5809394" target="_blank" rel="noopener" title="Stack Overflow">
                    
                        <i class="sidebar-button-icon fab fa-stack-overflow" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Stack Overflow</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="1"
                 class="
                        hasCoverMetaIn
                        ">
                
    <section class="postShorten-group main-content-wrap">
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2017/07/07/OS/memory/"
                            aria-label=": 메모리"
                        >
                            메모리
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2017-07-07T19:28:10+09:00">
	
		    2017.07.07
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/OS/">OS</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <p>컴퓨터의 저장공간은 역시 성능이 좋을 수록 비싸다. 때문에 메모리를 계층화시키고 이를 효율적으로 이용하기 위한 연구가 계속 되고 있다.</p>
<h2 id="메모리의-계층-구조"><a href="#메모리의-계층-구조" class="headerlink" title="메모리의 계층 구조"></a>메모리의 계층 구조</h2><blockquote>
<p> 캐시 메모리 - 메인메모리 - 디스크 스토리지</p>
</blockquote>
<p>따라서 위와 같이 메모리를 계층화하여 용도에 맞게 사용한다.</p>
<h2 id="메모리의-추상화"><a href="#메모리의-추상화" class="headerlink" title="메모리의 추상화"></a>메모리의 추상화</h2><p>각 프로세스는 자신만의 <code>주소공간</code>(프로그램에 적재될 수 있는 추상화된 주소집합)을 갖는다.</p>
<blockquote>
<p>A 프로세스의 28번 주소</p>
<p>B 프로세스의 28번 주소 </p>
</blockquote>
<p>위 두 28번 주소는 달라야 한다.  </p>
<p><strong><em>따라서 논리주소만 고려할 수 있도록 조치</em></strong>가 필요하다.</p>
<h4 id="재배치"><a href="#재배치" class="headerlink" title="재배치"></a>재배치</h4><ul>
<li>동적 재배치 : 프로그램 실행시, MMU 통해 동적으로 배치</li>
</ul>
<blockquote>
<p>but 덧셈을 매번 해야 하는 단점이 있다..</p>
</blockquote>
<ul>
<li>정적 재배치 : 적재한 초기 위치부터 주소 재배치(적재기 Loader 통해)</li>
</ul>
<blockquote>
<p>그러나…</p>
<p>1) 실수나 의도적으로 OS 파괴가 가능하다.</p>
<p>2) 여러 프로그램 동시에 실행이 어렵다.</p>
</blockquote>
<h2 id="가용메모리-공간-관리"><a href="#가용메모리-공간-관리" class="headerlink" title="가용메모리 공간 관리"></a>가용메모리 공간 관리</h2><p>실제 메모리보다 사용 메모리가 더 클 경우에 이것을 어떻게 대처할 것인가?</p>
<h4 id="스와핑"><a href="#스와핑" class="headerlink" title="스와핑"></a>스와핑</h4><p>실행되지 않는 것, 디스크로 내림. 스왑 될때 재배치가 필요.</p>
<p><strong>어떤 메모리를 스와핑 할 것인가?</strong> 리스트를 활용하여 가용메모리 공간을 관리한다.</p>
<p>1) 최초적합 : 빈공간 발견시 할당</p>
<p>2) 다음적합 : 지난번 위치의 다음부터 검색</p>
<p>3) 최적적합 : 모두 검색-&gt; 가장 근접 공간에 할당 &lt;-&gt; 최악적합</p>
<p>4) 빠른적합 : 공통크기 메모리 공간 -&gt; 서로 다른 리스트로 관리</p>
<blockquote>
<p>그러나 스와핑은 너무 느리다.</p>
</blockquote>
<h4 id="오버레이"><a href="#오버레이" class="headerlink" title="오버레이"></a>오버레이</h4><p>프로세스를 작은 조각으로 나누어 실행한다.</p>
<blockquote>
<p>그러나 그것은 프로그래머의 몫으로, 너무 복잡하다.</p>
</blockquote>
<h3 id="가상메모리"><a href="#가상메모리" class="headerlink" title="가상메모리"></a>가상메모리</h3><p>가용 메모리 공간을 종결할, 가상 메모리.</p>
<p>프로세스는 자신의 <code>고유한 주소공간</code>(프로그램에 적재될 수 있는 추상화된 주소집합)을 가지며, 주소공간은 <code>페이지</code>라는 조각으로 구성된다.</p>
<p> <code>페이징 기법</code>을 활용하면, 여러 프로그램의 부분들이 <code>물리 메모리에 동시 존재</code>할 수 있다.</p>
<h3 id="페이징-기법"><a href="#페이징-기법" class="headerlink" title="페이징 기법"></a>페이징 기법</h3><p>어떻게 가상 메모리가 페이징 기법을 사용해서 매핑되는지 보자.</p>
<p><img src="http://i.imgur.com/tBTUlGH.png" alt="img"></p>
<p><img src="http://i.imgur.com/eEKHY9D.png" alt="img"></p>
<ol>
<li>프로그램이 메모리의 주소(가상메모리)를 참조한다.</li>
<li>가상메모리는 <code>16bit 메모리</code> 는 <code>4bit/8bit</code>로 나누어 지는데, <code>4bit</code>로 <code>페이지테이블</code>을 검색한다.</li>
<li>4bit <code>0 0 1 0</code> 은 10진수로 <code>2</code> 이므로 <code>페이지테이블</code> 2번과 매핑되고, 해당 페이지 테이블을 살펴보니 <code>1 1 0 1</code> 로 4번째 <code>1</code> 은 present/absent bit 이므로, 현재 메모리에 적재되어 있다는 것을 알 수 있다.</li>
<li>페이지 테이블에서 찾은 <code>1 1 0</code>과 8bit 메모리 주소 <code>0 0 0 0 0 1 0 0</code>을 합친 주소가 실제 물리 메모리 주소이다. MMU를 이용하여, 실제 물리 메모리 주소로 매핑된다.</li>
</ol>
<blockquote>
<p>만약 present bit가 0으로 매핑되어 있지 않으면, 페이지 폴트가 일어나고 페이지 프레임 내용이 교체 된다.</p>
</blockquote>
<h4 id="페이지-테이블-구조"><a href="#페이지-테이블-구조" class="headerlink" title="페이지 테이블 구조"></a>페이지 테이블 구조</h4><p>|캐싱가능여부|참조|수정|보호|present/absent|페이지 프레임 Num</p>
<h4 id="페이징-속도-향상"><a href="#페이징-속도-향상" class="headerlink" title="페이징 속도 향상"></a>페이징 속도 향상</h4><p>페이지 테이블 전체를 적재하여, 구현 비용이 커진다. TLB(Translation Lookaside Buffer)를 이용하여 페이지 테이블 참조없이 가상주소를 물리주소에 매핑한다. MMU 내부에 존재하며 순서 없이 한 번에 찾는다.</p>
<h4 id="페이지-교체-알고리즘"><a href="#페이지-교체-알고리즘" class="headerlink" title="페이지 교체 알고리즘"></a>페이지 교체 알고리즘</h4><p>페이지 프레임 교체 대상은 누구인가?</p>
<ol>
<li>최적 페이지 교체 알고리즘(OPT) : 가장 먼 미래에 참조될 캐시 퇴출(그러나 미래를 알 수 없음;;)</li>
<li>LRU(Least Recently Used) : 시간상 최근 참조 -&gt; 최근에 다시 참조</li>
<li>LFU(Least Frequently Used) : 빈도상 많이 참조 -&gt; 미래에도 많이 참조(maxheap으로 구현)</li>
<li>FIFO(First-In First-Out) : 먼저 들어온게 먼저 나감.</li>
<li>Second-Chance 페이지 교체 알고리즘, 클록 페이지 교체 알고리즘</li>
</ol>
<p><img src="http://i.imgur.com/8BXWsCu.png" alt="img"></p>
<p>대상인지 아닌지 확인할 때 R=1 이면, 0으로 바꾸고 넘어감. R이 0이라면 대상.</p>
<ol start="6">
<li>작업집합 페이지 교체 알고리즘 : 프로세스가 현재 자주 참조하는 페이지들의 집합인지 확인. 문맥교환시 - 선페이징 통해 프로세스 시작전 작업집합들 페이지 적재.</li>
</ol>
<h4 id="페이지-교체시-쟁점"><a href="#페이지-교체시-쟁점" class="headerlink" title="페이지 교체시 쟁점"></a>페이지 교체시 쟁점</h4><p>지역 페이지 교체 : 자기 프로세스에 속해있는 페이지중 고려.</p>
<p>전역 페이지 교체 : 전체 프로세스 중에 고려, 실행에 따라 작업집합의 크기 변할 때 유리.</p>
<p>혼합 : 전역 알고리즘 사용, 크기에 비례하여 페이지 할당. 페이지 폴트 빈도수(PFF)에 맞추어 추가 할당/반납 -&gt; 상한/하한</p>
<p>페이지 크게 : 페이지 폴트 적게 일어남, 관리 쉽다, 페이지 테이블 작아짐, but 내부 단편화 심함.</p>
<p>페이지 작게 : 내부 단편화 줄어듬, But 많은 페이지 필요</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p>운영체제론 - 노삼혁</p>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2017/07/07/OS/memory/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    <div class="pagination-bar">
    <ul class="pagination">
        
          <li class="pagination-prev">
            <a
                class="btn btn--default btn--small"
                href="/archives/2017/page/102/"
                aria-label="NEWER POSTS"
            >
              <i class="fa fa-angle-left text-base icon-mr"></i>
              <span>NEWER POSTS</span>
            </a>
          </li>
        
        
          <li class="pagination-next">
            <a
                class="btn btn--default btn--small"
                href="/archives/2017/page/104/"
                aria-label="OLDER POSTS"
            >
              <span>OLDER POSTS</span>
              <i class="fa fa-angle-right text-base icon-ml"></i>
            </a>
          </li>
        
        <li class="pagination-number">page 103 of 111</li>
    </ul>
</div>

</section>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2021 Junho Nam. All Rights Reserved.
    </span>
</footer>

            </div>
            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/favicon.jpg" alt="Author&#39;s picture"/>
        
            <h4 id="about-card-name">Junho Nam</h4>
        
            <div id="about-card-bio"><p>enjoy while living</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>full stack web developer</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br/>
                Seoul, Korea
            </div>
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/script-g4mkxjtcee760xuht66pquch3apo7j5mk6ywfkukd4ko1fduhlhzd6iuikso.min.js"></script>
<!--SCRIPTS END-->
<script type="text/javascript">      
  var search_path = "search.xml";
  if (search_path.length == 0) {
    search_path = "search.xml";
  }
  var path = "/" + search_path;
  searchFunc(path, 'local-search-input', 'local-search-result');
</script>




    </body>
</html>
